<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Hiper-Infra Moderno</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #4361ee;
            --primary-light: #e6f0ff;
            --secondary-color: #3a0ca3;
            --accent-color: #f72585;
            --dark-color: #212529;
            --light-color: #f8f9fa;
            --success-color: #4cc9f0;
            --warning-color: #f8961e;
            --danger-color: #ef233c;
            --border-radius: 12px;
            --box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f7ff;
            color: var(--dark-color);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 10px 0;
            box-shadow: var(--box-shadow);
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
            animation: pulse 15s infinite linear;
        }

        @keyframes pulse {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            z-index: 1;
            padding: 0;
        }

        .logo {
            font-size: 24px;
            font-weight: 700;
            display: flex;
            align-items: center;
        }

        .logo i {
            margin-right: 10px;
            font-size: 28px;
        }

        nav ul {
            display: flex;
            list-style: none;
        }

        nav ul li {
            margin-left: 20px;
        }

        nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            padding: 8px 12px;
            border-radius: var(--border-radius);
        }

        nav ul li a:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        /* Main Content Styles */
        .main-content {
            min-height: calc(100vh - 160px);
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        /* Card Styles */
        .card {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: 0 8px 32px rgba(67, 97, 238, 0.15);
            padding: 40px;
            margin-bottom: 30px;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(67, 97, 238, 0.1);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(67, 97, 238, 0.2);
        }

        .card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: linear-gradient(to bottom, var(--primary-color), var(--accent-color));
        }

        .card-title {
            font-size: 28px;
            margin-bottom: 25px;
            color: var(--secondary-color);
            position: relative;
            display: inline-block;
            font-weight: 700;
        }

        .card-title::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 50px;
            height: 4px;
            background: linear-gradient(to right, var(--primary-color), var(--accent-color));
            border-radius: 3px;
        }

        /* Login Section */
        .login-section {
            max-width: 500px;
            margin: 0 auto;
            text-align: center;
        }

        .login-form {
            display: flex;
            flex-direction: column;
            gap: 0;
        }

        .form-group {
            position: relative;
        }

        .form-control {
            width: 100%;
            padding: 16px 25px;
            border: 2px solid rgba(67, 97, 238, 0.2);
            border-radius: var(--border-radius);
            font-size: 16px;
            transition: var(--transition);
            background-color: rgba(67, 97, 238, 0.03);
            color: var(--dark-color);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 4px rgba(67, 97, 238, 0.15);
            background-color: white;
        }

        .form-label {
            position: absolute;
            left: 25px;
            top: 16px;
            color: #777;
            transition: var(--transition);
            pointer-events: none;
            background-color: rgba(67, 97, 238, 0.03);
            padding: 0 5px;
        }

        .form-control:focus + .form-label,
        .form-control:not(:placeholder-shown) + .form-label {
            top: -10px;
            font-size: 12px;
            color: var(--primary-color);
            background-color: white;
            font-weight: 600;
        }

        /* Button Styles */
        .btn {
            padding: 16px 30px;
            border: none;
            border-radius: var(--border-radius);
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
            box-shadow: 0 4px 15px rgba(67, 97, 238, 0.3);
            position: relative;
            overflow: hidden;
        }

        .btn-primary::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                to bottom right,
                rgba(255, 255, 255, 0) 0%,
                rgba(255, 255, 255, 0) 40%,
                rgba(255, 255, 255, 0.3) 50%,
                rgba(255, 255, 255, 0) 60%,
                rgba(255, 255, 255, 0) 100%
            );
            transform: rotate(30deg);
            transition: all 0.6s ease;
        }

        .btn-primary:hover {
            background-color: var(--secondary-color);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(67, 97, 238, 0.4);
        }

        .btn-primary:hover::after {
            left: 100%;
        }

        .btn-secondary {
            background-color: white;
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
        }

        .btn-secondary:hover {
            background-color: var(--primary-light);
            transform: translateY(-3px);
        }

        .btn-accent {
            background-color: var(--accent-color);
            color: white;
            box-shadow: 0 4px 15px rgba(248, 37, 133, 0.3);
        }

        .btn-accent:hover {
            background-color: #d91a6d;
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(248, 37, 133, 0.4);
        }

        .btn-outline {
            background-color: transparent;
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
        }

        .btn-outline:hover {
            background-color: var(--primary-color);
            color: white;
        }

        /* Level Buttons */
        .level-buttons {
            display: flex;
            gap: 15px;
            margin: 20px 0;
            justify-content: center;
            flex-wrap: wrap;
        }

        .level-btn {
            flex: 1;
            min-width: 120px;
            padding: 14px;
            border-radius: var(--border-radius);
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            background-color: rgba(67, 97, 238, 0.1);
            color: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .level-btn.selected {
            background-color: var(--primary-color);
            color: white;
            box-shadow: 0 4px 10px rgba(67, 97, 238, 0.3);
        }

        .level-btn:hover:not(.selected) {
            background-color: rgba(67, 97, 238, 0.2);
            transform: translateY(-3px);
        }

        /* Quiz Section */
        .quiz-section {
            display: none;
            max-width: 800px;
            margin: 0 auto;
        }

        .progress-container {
            margin-bottom: 10px;
            background-color: rgba(67, 97, 238, 0.05);
            padding: 20px;
            border-radius: var(--border-radius);
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 14px;
            color: var(--secondary-color);
            font-weight: 600;
        }

        .progress-bar {
            height: 8px;
            background-color: rgba(67, 97, 238, 0.1);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: linear-gradient(to right, var(--primary-color), var(--accent-color));
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 4px;
        }

        .question-container {
            margin-bottom: 40px;
        }

        .question-text {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--dark-color);
            line-height: 1.4;
        }

        .answer-options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }

        .answer-option {
            padding: 10px 25px;
            border-radius: var(--border-radius);
            background-color: rgba(67, 97, 238, 0.03);
            border: 2px solid rgba(67, 97, 238, 0.1);
            cursor: pointer;
            transition: var(--transition);
            font-size: 16px;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
        }

        .answer-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background-color: var(--primary-color);
            transform: scaleY(0);
            transform-origin: bottom;
            transition: transform 0.3s ease;
        }

        .answer-option:hover {
            border-color: var(--primary-color);
            background-color: rgba(67, 97, 238, 0.05);
            transform: translateX(5px);
        }

        .answer-option:hover::before {
            transform: scaleY(1);
        }

        .answer-option.selected {
            background-color: var(--primary-light);
            border-color: var(--primary-color);
            color: var(--primary-color);
            font-weight: 500;
        }

        .answer-option.selected::before {
            transform: scaleY(1);
        }

        .answer-option.correct {
            background-color: rgba(76, 201, 240, 0.1);
            border-color: var(--success-color);
            color: #006d77;
        }

        .answer-option.correct::before {
            background-color: var(--success-color);
            transform: scaleY(1);
        }

        .answer-option.incorrect {
            background-color: rgba(239, 35, 60, 0.1);
            border-color: var(--danger-color);
            color: #9e0a1e;
        }

        .answer-option.incorrect::before {
            background-color: var(--danger-color);
            transform: scaleY(1);
        }

        .explanation {
            margin-top: 30px;
            padding: 25px;
            background-color: rgba(67, 97, 238, 0.03);
            border-left: 4px solid var(--primary-color);
            border-radius: var(--border-radius);
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .explanation-title {
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 18px;
        }

        .explanation-title i {
            font-size: 20px;
        }

        /* Navigation Buttons */
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
        }

        .nav-btn {
            min-width: 150px;
            padding: 14px 25px;
        }

        .nav-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
            box-shadow: none !important;
        }

        /* Result Section */
        .result-section {
            display: none;
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }

        .result-icon {
            font-size: 100px;
            margin-bottom: 30px;
            color: var(--primary-color);
            position: relative;
        }

        .result-icon::after {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            border-radius: 50%;
            background: rgba(67, 97, 238, 0.1);
            z-index: -1;
        }

        .score {
            font-size: 80px;
            font-weight: 800;
            margin: 30px 0;
            background: linear-gradient(to right, var(--primary-color), var(--accent-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            position: relative;
            display: inline-block;
        }

        .score::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 5px;
            background: linear-gradient(to right, var(--primary-color), var(--accent-color));
            border-radius: 3px;
        }

        .result-message {
            font-size: 28px;
            margin-bottom: 20px;
            color: var(--secondary-color);
            font-weight: 700;
        }

        .result-description {
            color: #6c757d;
            max-width: 600px;
            margin: 0 auto 40px;
            font-size: 18px;
            line-height: 1.6;
        }

        /* Ranking Styles */
        .ranking-container {
            border: 1px solid rgba(67, 97, 238, 0.1);
            border-radius: var(--border-radius);
            overflow: hidden;
            margin: 40px 0;
            box-shadow: var(--box-shadow);
        }

        .ranking-header {
            display: flex;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            color: white;
            font-weight: 600;
            padding: 18px;
        }

        .ranking-header div {
            flex: 1;
            text-align: center;
        }

        .ranking-item {
            display: flex;
            padding: 18px;
            border-bottom: 1px solid rgba(67, 97, 238, 0.1);
            transition: var(--transition);
        }

        .ranking-item:last-child {
            border-bottom: none;
        }

        .ranking-item:hover {
            background-color: rgba(67, 97, 238, 0.05);
        }

        .ranking-item div {
            flex: 1;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .ranking-position {
            font-weight: 700;
            color: var(--primary-color);
        }

        .ranking-name {
            font-weight: 600;
        }

        .ranking-difficulty {
            font-weight: 500;
        }

        .ranking-score {
            font-family: 'Courier New', monospace;
            font-weight: 700;
            color: var(--secondary-color);
        }

        .ranking-item:nth-child(2) {
            background-color: rgba(255, 215, 0, 0.05);
        }

        .ranking-item:nth-child(3) {
            background-color: rgba(192, 192, 192, 0.05);
        }

        .ranking-item:nth-child(4) {
            background-color: rgba(205, 127, 50, 0.05);
        }

        /* Estilos para os badges de dificuldade */
        /* Estilos para os badges de dificuldade - ATUALIZADO */
        .difficulty-badge {
            padding: 4px 12px; /* Aumentei o padding horizontal para uniformizar */
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            display: inline-block;
            min-width: 60px; /* Largura mínima igual para todos */
            text-align: center; /* Centraliza o texto */
            box-sizing: border-box; /* Garante que padding não afete a largura */
        }

        .difficulty-easy {
            background-color: #4cc9f0;
            color: white;
        }

        .difficulty-medium {
            background-color: #f8961e;
            color: white;
        }

        .difficulty-hard {
            background-color: #ef233c;
            color: white;
        }

        /* Admin Section */
        .admin-section {
            display: none;
            max-width: 800px;
            margin: 0 auto;
        }

        .admin-panel {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .question-list {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            padding: 10px;
            margin-bottom: 20px;
        }

        .question-item {
            padding: 15px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: all 0.2s;
        }

        .question-item:hover {
            background-color: #f5f5f5;
        }

        .question-item.selected {
            background-color: #e1f5fe;
            border-left: 4px solid var(--primary-color);
        }

        .question-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 20px;
        }

        .question-form input, .question-form textarea, .question-form select {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }

        .question-form textarea {
            min-height: 80px;
            resize: vertical;
        }

        .answer-options-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .answer-option-input {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .answer-option-input input[type="radio"] {
            margin-right: 5px;
        }

        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 20px;
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 40px;
            flex-wrap: wrap;
        }

        /* Admin Login Section */
        .admin-login-section {
            display: none;
            max-width: 500px;
            margin: 0 auto;
            text-align: center;
        }

        .back-to-login {
            text-align: center;
            margin-top: 20px;
        }

        .back-to-login a {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: bold;
        }

        .back-to-login a:hover {
            text-decoration: underline;
        }

        /* Name Error */
        .name-error {
            color: var(--danger-color);
            background-color: rgba(239, 35, 60, 0.1);
            padding: 12px;
            border-radius: var(--border-radius);
            border-left: 4px solid var(--danger-color);
            margin-top: 10px;
            font-size: 14px;
            text-align: center;
        }

        .input-error {
            border-color: var(--danger-color) !important;
            animation: shake 0.5s;
        }

        /* Toggle password */
        .toggle-password {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #777;
            cursor: pointer;
            transition: var(--transition);
        }

        .toggle-password:hover {
            color: var(--primary-color);
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulseScale {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-5px); }
            40%, 80% { transform: translateX(5px); }
        }

        .animate-in {
            animation: fadeIn 0.5s ease-out forwards;
        }

        .pulse-animation {
            animation: pulseScale 2s infinite;
        }

        /* Loader Styles */
        .page-loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.95);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .page-loader.active {
            opacity: 1;
            visibility: visible;
        }

        .loader-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .loader-wrapper {
            position: relative;
            width: 120px;
            height: 120px;
            margin-bottom: 20px;
        }

        .loader-img {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80px;
            height: auto;
            z-index: 2;
        }

        .loader-circle {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 5px solid rgba(67, 97, 238, 0.2);
            border-top-color: var(--primary-color);
            border-radius: 50%;
            animation: spin 1.5s linear infinite;
        }

        .loader-text {
            font-size: 18px;
            color: var(--dark-color);
            font-weight: 500;
            text-align: center;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 20px;
            }

            nav ul {
                flex-wrap: wrap;
                justify-content: center;
            }

            nav ul li {
                margin: 5px;
            }

            .card {
                padding: 30px;
            }

            .level-buttons {
                flex-direction: column;
            }

            .level-btn {
                width: 100%;
            }

            .navigation-buttons {
                flex-direction: column;
                gap: 15px;
            }

            .nav-btn {
                width: 100%;
            }

            .action-buttons, .admin-panel {
                flex-direction: column;
                align-items: center;
            }

            .action-buttons .btn, .admin-panel .btn {
                width: 100%;
                max-width: 300px;
            }

            .question-text {
                font-size: 22px;
            }

            .answer-option {
                padding: 16px 20px;
            }

            .score {
                font-size: 60px;
            }

            .result-message {
                font-size: 24px;
            }
        }

        @media (max-width: 480px) {
            .card {
                padding: 25px;
            }

            .card-title {
                font-size: 24px;
            }

            .question-text {
                font-size: 20px;
            }

            .result-icon {
                font-size: 80px;
            }

            .score {
                font-size: 50px;
            }

            .result-message {
                font-size: 22px;
            }

            .ranking-header div, .ranking-item div {
                font-size: 14px;
            }
        }
    </style>
</head>
<div id="menu"></div>
<script>
    async function loadHTML(id, file) {
        try {
            const res = await fetch(file);
            if (!res.ok) throw new Error(`Erro ao carregar ${file}`);
            const html = await res.text();
            document.getElementById(id).innerHTML = html;
        } catch (err) {
            console.error(err);
            document.getElementById(id).innerHTML = `<p>Erro ao carregar ${file}</p>`;
        }
    }

    // Carregar os componentes
    loadHTML("menu", "menu.html");
</script>
<body>
    <main class="container main-content">
        <!-- Login Section -->
        <section id="login-section" class="card login-section animate-in">
            <h2 class="card-title">Bem-vindo ao Quiz de Hiperconvergência</h2>
            <p style="margin-bottom: 30px; color: #555;">Teste seus conhecimentos sobre infraestrutura hiperconvergente com este quiz interativo. Responda 10 perguntas e veja como você se compara a outros participantes!</p>
            
            <form id="login-form" class="login-form">
                <div class="form-group">
                    <input type="text" id="username" class="form-control" placeholder=" " required>
                    <label for="username" class="form-label">Seu nome</label>
                </div>
                
                <div class="level-buttons">
                    <button type="button" id="easy-btn" class="level-btn">
                        <i class="fas fa-smile"></i> Fácil
                    </button>
                    <button type="button" id="medium-btn" class="level-btn selected">
                        <i class="fas fa-meh"></i> Médio
                    </button>
                    <button type="button" id="hard-btn" class="level-btn">
                        <i class="fas fa-frown"></i> Difícil
                    </button>
                </div>
                
                <button type="submit" class="btn btn-primary pulse-animation">
                    <i class="fas fa-play"></i> Iniciar Quiz
                </button>
                
                <div class="admin-panel">
                    <button type="button" id="admin-login-btn" class="btn btn-outline">
                        <i class="fas fa-user-shield"></i> Acesso Admin
                    </button>
                    <button type="button" id="ranking-btn" class="btn btn-secondary">
                        <i class="fas fa-trophy"></i> Ver Ranking
                    </button>
                </div>
            </form>
        </section>

        <!-- Admin Login Section -->
        <section id="admin-login-section" class="card admin-login-section">
            <h2 class="card-title">Acesso Administrativo</h2>
            <form id="admin-login-form" class="login-form">
                <div class="form-group">
                    <input type="password" id="admin-password" class="form-control" placeholder=" " required>
                    <label for="admin-password" class="form-label">Senha de administrador</label>
                    <i class="fas fa-eye toggle-password"></i>
                </div>
                
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-sign-in-alt"></i> Acessar Painel
                </button>
            </form>
            <div class="back-to-login">
                <a href="#" id="back-to-login"><i class="fas fa-arrow-left"></i> Voltar para tela de login</a>
            </div>
        </section>

        <!-- Admin Section -->
        <section id="admin-section" class="card admin-section">
            <h2 class="card-title">Painel de Administração</h2>
            <div class="admin-panel">
                <button class="btn btn-primary" id="add-question-btn">
                    <i class="fas fa-plus"></i> Adicionar Pergunta
                </button>
                <button class="btn btn-secondary" id="edit-question-btn" disabled>
                    <i class="fas fa-edit"></i> Editar Pergunta
                </button>
                <button class="btn btn-accent" id="delete-question-btn" disabled>
                    <i class="fas fa-trash"></i> Remover Pergunta
                </button>
            </div>
            
            <div class="question-list" id="question-list">
                <!-- Lista de perguntas será preenchida pelo JavaScript -->
            </div>
            
            <div class="question-form" id="question-form" style="display: none;">
                <input type="text" id="question-text-input" class="form-control" placeholder="Texto da pergunta" required>
                <select id="difficulty-input" class="form-control" required>
                    <option value="">Selecione a dificuldade</option>
                    <option value="easy">Fácil</option>
                    <option value="medium">Médio</option>
                    <option value="hard">Difícil</option>
                </select>
                <div class="answer-options-container">
                    <div class="answer-option-input">
                        <input type="radio" name="correct-answer" value="0" required>
                        <input type="text" id="answer-0" class="form-control" placeholder="Opção 1" required>
                    </div>
                    <div class="answer-option-input">
                        <input type="radio" name="correct-answer" value="1" required>
                        <input type="text" id="answer-1" class="form-control" placeholder="Opção 2" required>
                    </div>
                    <div class="answer-option-input">
                        <input type="radio" name="correct-answer" value="2" required>
                        <input type="text" id="answer-2" class="form-control" placeholder="Opção 3" required>
                    </div>
                    <div class="answer-option-input">
                        <input type="radio" name="correct-answer" value="3" required>
                        <input type="text" id="answer-3" class="form-control" placeholder="Opção 4" required>
                    </div>
                </div>
                <textarea id="explanation-input" class="form-control" placeholder="Explicação (aparece quando o usuário erra a pergunta)" required></textarea>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="cancel-form-btn">
                        <i class="fas fa-times"></i> Cancelar
                    </button>
                    <button type="button" class="btn btn-primary" id="save-question-btn">
                        <i class="fas fa-save"></i> Salvar Pergunta
                    </button>
                </div>
            </div>
            
            <div class="back-to-login">
                <button class="btn btn-outline" id="back-to-admin-login">
                    <i class="fas fa-arrow-left"></i> Voltar
                </button>
            </div>
        </section>

        <!-- Quiz Section -->
        <section id="quiz-section" class="card quiz-section">
            <div class="progress-container">
                <div class="progress-info">
                    <span id="progress-text">Pergunta 1 de 10</span>
                    <span id="score-text">Pontuação: 0</span>
                </div>
                <div class="progress-bar">
                    <div class="progress" id="progress-bar"></div>
                </div>
            </div>
            
            <div class="question-container">
                <div class="question-text" id="question-text"></div>
                <div class="answer-options" id="answer-options"></div>
                <div class="explanation" id="explanation">
                    <div class="explanation-title">
                        <i class="fas fa-lightbulb"></i> Explicação
                    </div>
                    <div id="explanation-text"></div>
                </div>
            </div>
            
            <div class="navigation-buttons">
                <button class="btn btn-secondary nav-btn" id="prev-btn" disabled>
                    <i class="fas fa-arrow-left"></i> Anterior
                </button>
                <button class="btn btn-primary nav-btn" id="next-btn">
                    Próxima <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </section>

        <!-- Result Section -->
        <section id="result-section" class="card result-section">
            <div class="result-icon">
                <i class="fas fa-trophy"></i>
            </div>
            <h2 id="result-title" class="card-title">Quiz Concluído!</h2>
            <div class="result-message" id="result-message"></div>
            <div class="score" id="score"></div>
            <div class="result-description" id="result-description"></div>
            
            <h3 class="card-title">Ranking dos Jogadores</h3>
            <div class="ranking-container" id="ranking-container">
                <div class="ranking-header">
                    <div>Posição</div>
                    <div>Nome</div>
                    <div>Nível</div>
                    <div>Pontuação</div>
                </div>
                <div class="empty-state" id="empty-ranking" style="text-align: center; padding: 30px; color: #6c757d;">
                    <i class="fas fa-info-circle" style="font-size: 40px; margin-bottom: 15px;"></i>
                    <p>Nenhum resultado ainda. Seja o primeiro!</p>
                </div>
                <!-- Ranking será preenchido pelo JavaScript -->
            </div>
            
            <div class="action-buttons">
                <button class="btn btn-primary" id="restart-btn">
                    <i class="fas fa-redo"></i> Tentar Novamente
                </button>
                <button class="btn btn-secondary" id="new-quiz-btn">
                    <i class="fas fa-play"></i> Novo Quiz
                </button>
                <button class="btn btn-outline" id="back-to-start-btn">
                    <i class="fas fa-home"></i> Voltar ao Menu
                </button>
            </div>
        </section>
    </main>

    <!-- Loader Section -->
    <div class="page-loader">
        <div class="loader-container">
            <div class="loader-wrapper">
                <div class="loader-circle"></div>
                <img src="images/Inicio/logo.png" alt="Loading" class="loader-img">
            </div>
            <div class="loader-text">Carregando...</div>
        </div>
    </div>

    <script>
        // Função do Loader
        function showLoader(destination) {
            const loader = document.querySelector('.page-loader');
            loader.classList.add('active');
            
            // Simular tempo de carregamento (2 segundos)
            setTimeout(() => {
                loader.classList.remove('active');
                if (destination) {
                    window.location.href = destination;
                }
            }, 2000);
        }

        document.addEventListener('DOMContentLoaded', function() {
            // Variáveis do quiz
            let currentQuestion = 0;
            let score = 0;
            let userAnswers = [];
            let userName = '';
            let currentQuestions = [];
            let ranking = JSON.parse(localStorage.getItem('quizRanking')) || [];
            let selectedQuestionIndex = -1;
            let usedQuestionIndices = [];
            let currentLevel = 'medium';
            const questionCount = 10;
            
            // Configuração do Admin
            const ADMIN_PASSWORD = "admin123";
            
            // Elementos do DOM
            const loginSection = document.getElementById('login-section');
            const adminLoginSection = document.getElementById('admin-login-section');
            const adminSection = document.getElementById('admin-section');
            const quizSection = document.getElementById('quiz-section');
            const resultSection = document.getElementById('result-section');
            const loginForm = document.getElementById('login-form');
            const adminLoginForm = document.getElementById('admin-login-form');
            const questionText = document.getElementById('question-text');
            const answerOptions = document.getElementById('answer-options');
            const explanation = document.getElementById('explanation');
            const explanationText = document.getElementById('explanation-text');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const progressBar = document.getElementById('progress-bar');
            const progressText = document.getElementById('progress-text');
            const scoreText = document.getElementById('score-text');
            const resultMessage = document.getElementById('result-message');
            const scoreElement = document.getElementById('score');
            const resultDescription = document.getElementById('result-description');
            const resultTitle = document.getElementById('result-title');
            const restartBtn = document.getElementById('restart-btn');
            const newQuizBtn = document.getElementById('new-quiz-btn');
            const backToStartBtn = document.getElementById('back-to-start-btn');
            const rankingContainer = document.getElementById('ranking-container');
            const emptyRanking = document.getElementById('empty-ranking');
            const adminLoginBtn = document.getElementById('admin-login-btn');
            const backToLoginBtn = document.getElementById('back-to-login');
            const backToAdminLoginBtn = document.getElementById('back-to-admin-login');
            const questionList = document.getElementById('question-list');
            const questionForm = document.getElementById('question-form');
            const addQuestionBtn = document.getElementById('add-question-btn');
            const editQuestionBtn = document.getElementById('edit-question-btn');
            const deleteQuestionBtn = document.getElementById('delete-question-btn');
            const cancelFormBtn = document.getElementById('cancel-form-btn');
            const saveQuestionBtn = document.getElementById('save-question-btn');
            const easyBtn = document.getElementById('easy-btn');
            const mediumBtn = document.getElementById('medium-btn');
            const hardBtn = document.getElementById('hard-btn');
            const rankingBtn = document.getElementById('ranking-btn');
            const difficultyInput = document.getElementById('difficulty-input');
            const togglePassword = document.querySelector('.toggle-password');
            
            // Banco de perguntas 
            let questionBank = JSON.parse(localStorage.getItem('questionBank')) || [
                {
                    question: "O que é Infraestrutura Convergente?",
                    answers: [
                        "Um novo tipo de servidor de alta performance.",
                        "Uma forma de gerenciamento de data center que combina componentes legados em um único produto.",
                        "Um software de virtualização avançado.",
                        "Uma técnica para aumentar a velocidade da rede."
                    ],
                    correctAnswer: 1,
                    explanation: "Infraestrutura Convergente (CI) é definida como uma abordagem de gerenciamento de data center que integra componentes tradicionalmente separados, como servidores, armazenamento, redes e virtualização, em um único sistema coeso. Isso simplifica a compra, implantação e gerenciamento da infraestrutura.",
                    difficulty: "easy"
                },
                {
                    question: "Qual é a principal vantagem da infraestrutura hiperconvergente em relação à convergente?",
                    answers: [
                        "Maior capacidade de armazenamento físico.",
                        "Menor custo de aquisição inicial.",
                        "Software definido por hardware integrado.",
                        "Escalabilidade mais simples e modular."
                    ],
                    correctAnswer: 3,
                    explanation: "A principal vantagem da infraestrutura hiperconvergente (HCI) é sua escalabilidade modular e simplificada. Diferente da infraestrutura convergente, onde os componentes são dimensionados separadamente, na HCI você pode escalar de forma mais granular adicionando nós conforme necessário.",
                    difficulty: "medium"
                },
                {
                    question: "Qual componente NÃO faz parte típica de uma solução hiperconvergente?",
                    answers: [
                        "Virtualização de armazenamento",
                        "Gerenciamento centralizado",
                        "Servidores bare-metal",
                        "Redes definidas por software"
                    ],
                    correctAnswer: 2,
                    explanation: "Servidores bare-metal não fazem parte de soluções hiperconvergentes típicas, pois a hiperconvergência é baseada em virtualização. Os outros componentes (virtualização de armazenamento, gerenciamento centralizado e redes definidas por software) são elementos essenciais da HCI.",
                    difficulty: "hard"
                },
                {
                    question: "O que significa 'software-defined' no contexto de hiperconvergência?",
                    answers: [
                        "Software que só roda em hardware específico",
                        "Funcionalidades tradicionalmente em hardware implementadas em software",
                        "Software com código fonte aberto",
                        "Soluções que não requerem hardware dedicado"
                    ],
                    correctAnswer: 1,
                    explanation: "'Software-defined' no contexto de hiperconvergência significa que funcionalidades tradicionalmente implementadas em hardware (como armazenamento, rede e computação) são agora gerenciadas por software, proporcionando maior flexibilidade e gerenciamento simplificado.",
                    difficulty: "easy"
                },
                {
                    question: "Qual destes é um benefício chave da hiperconvergência?",
                    answers: [
                        "Redução da complexidade de gerenciamento",
                        "Eliminação completa da necessidade de hardware",
                        "Desempenho superior a soluções bare-metal",
                        "Compatibilidade com todos os sistemas operacionais existentes"
                    ],
                    correctAnswer: 0,
                    explanation: "A redução da complexidade de gerenciamento é um benefício chave da hiperconvergência, pois consolida múltiplas funções de infraestrutura em uma única solução gerenciada de forma unificada. As outras opções não são características intrínsecas da HCI.",
                    difficulty: "medium"
                },
                {
                    question: "Como a hiperconvergência simplifica a administração de TI?",
                    answers: [
                        "Eliminando a necessidade de administradores de TI",
                        "Reduzindo o número de ferramentas de gerenciamento separadas",
                        "Automatizando completamente todas as tarefas",
                        "Limitando as opções de configuração"
                    ],
                    correctAnswer: 1,
                    explanation: "A hiperconvergência simplifica a administração de TI principalmente reduzindo o número de ferramentas de gerenciamento separadas. Em vez de gerenciar servidores, armazenamento e redes com ferramentas diferentes, tudo é gerenciado através de uma única interface.",
                    difficulty: "easy"
                },
                {
                    question: "Qual destes é um desafio potencial na adoção de HCI?",
                    answers: [
                        "Dificuldade em integrar com soluções de nuvem pública",
                        "Custo inicial mais alto que infraestrutura tradicional",
                        "Incompatibilidade com virtualização",
                        "Limitação a apenas um hypervisor"
                    ],
                    correctAnswer: 1,
                    explanation: "Um desafio potencial na adoção de HCI é o custo inicial mais alto em comparação com infraestrutura tradicional, especialmente para implantações menores. No entanto, esse custo é frequentemente compensado por economias operacionais a longo prazo.",
                    difficulty: "hard"
                },
                {
                    question: "O que é um 'nó' em uma infraestrutura hiperconvergente?",
                    answers: [
                        "Um ponto de conexão de rede",
                        "Uma unidade modular que combina computação, armazenamento e rede",
                        "Um servidor dedicado apenas para armazenamento",
                        "Um dispositivo de balanceamento de carga"
                    ],
                    correctAnswer: 1,
                    explanation: "Em uma infraestrutura hiperconvergente, um 'nó' é uma unidade modular que combina computação, armazenamento e rede em um único servidor x86. Múltiplos nós trabalham juntos para formar um cluster HCI.",
                    difficulty: "medium"
                },
                {
                    question: "Qual tecnologia é fundamental para o funcionamento da HCI?",
                    answers: [
                        "Contêineres",
                        "Virtualização",
                        "Blockchain",
                        "Inteligência Artificial"
                    ],
                    correctAnswer: 1,
                    explanation: "A virtualização é a tecnologia fundamental para o funcionamento da HCI (Infraestrutura Hiperconvergente). Ela permite que os recursos de computação, armazenamento e rede sejam abstraídos e gerenciados como serviços de software.",
                    difficulty: "easy"
                },
                {
                    question: "Qual destes NÃO é um fornecedor líder de soluções HCI?",
                    answers: [
                        "VMware vSAN",
                        "Nutanix",
                        "Dell EMC VxRail",
                        "Cisco IOS"
                    ],
                    correctAnswer: 3,
                    explanation: "Cisco IOS é um sistema operacional para roteadores e switches da Cisco, não uma solução HCI. VMware vSAN, Nutanix e Dell EMC VxRail são todas plataformas líderes de infraestrutura hiperconvergente.",
                    difficulty: "hard"
                }
            ];

            // Salva o banco de perguntas inicial se não existir
            if (!localStorage.getItem('questionBank')) {
                localStorage.setItem('questionBank', JSON.stringify(questionBank));
            }

            // Mostrar/ocultar senha do admin
            togglePassword.addEventListener('click', function() {
                const passwordInput = document.getElementById('admin-password');
                
                if (passwordInput.type === 'password') {
                    passwordInput.type = 'text';
                    this.classList.remove('fa-eye');
                    this.classList.add('fa-eye-slash');
                } else {
                    passwordInput.type = 'password';
                    this.classList.remove('fa-eye-slash');
                    this.classList.add('fa-eye');
                }
            });

            // Função para mostrar erro de nome duplicado
            function showNameError(message = "Este nome já está em uso! Escolha outro nome ou adicione números/iniciais.") {
                const existingError = document.querySelector('.name-error');
                if (existingError) {
                    existingError.remove();
                }
                
                const errorElement = document.createElement('div');
                errorElement.className = 'name-error';
                errorElement.innerHTML = `<p>${message}</p>`;
                
                const nameInput = document.getElementById('username');
                nameInput.insertAdjacentElement('afterend', errorElement);
                nameInput.classList.add('input-error');
                nameInput.focus();
            }

            // Função para selecionar perguntas aleatórias do nível escolhido
            function getQuestionsByLevel(level, count) {
                const levelQuestions = questionBank.filter(q => q.difficulty === level);
                
                if (levelQuestions.length <= count) {
                    return [...levelQuestions];
                }
                
                const shuffled = [...levelQuestions].sort(() => 0.5 - Math.random());
                return shuffled.slice(0, count);
            }

            // Função para selecionar perguntas aleatórias que não foram usadas antes
            function getNewRandomQuestions(questions, count) {
                if (questions.length <= count || usedQuestionIndices.length >= questions.length) {
                    usedQuestionIndices = [];
                }
                
                const availableQuestions = questions.filter((_, index) => !usedQuestionIndices.includes(index));
                const shuffled = [...availableQuestions].sort(() => 0.5 - Math.random());
                const selectedQuestions = shuffled.slice(0, count);
                
                selectedQuestions.forEach(question => {
                    const index = questions.findIndex(q => q.question === question.question);
                    if (index !== -1) {
                        usedQuestionIndices.push(index);
                    }
                });
                
                return selectedQuestions;
            }

            // Função para iniciar o quiz
            function startQuiz() {
                const existingError = document.querySelector('.name-error');
                if (existingError) {
                    existingError.remove();
                }
                
                const nameInput = document.getElementById('username');
                nameInput.classList.remove('input-error');
                
                currentQuestions = getQuestionsByLevel(currentLevel, questionCount);
                
                if (currentQuestions.length < questionCount) {
                    const remaining = questionCount - currentQuestions.length;
                    const otherQuestions = questionBank.filter(q => q.difficulty !== currentLevel);
                    const additionalQuestions = getNewRandomQuestions(otherQuestions, remaining);
                    currentQuestions = [...currentQuestions, ...additionalQuestions];
                }
                
                loginSection.style.display = 'none';
                quizSection.style.display = 'block';
                showQuestion();
            }

            // Evento de login com verificação de nome duplicado
            loginForm.addEventListener('submit', function(e) {
                e.preventDefault();
                userName = document.getElementById('username').value.trim();
                
                if (userName) {
                    const nameExists = ranking.some(player => 
                        player.name.toLowerCase() === userName.toLowerCase()
                    );
                    
                    if (nameExists) {
                        showNameError();
                    } else {
                        startQuiz();
                    }
                } else {
                    showNameError("Por favor, digite um nome válido!");
                }
            });

            // Evento de login do admin
            adminLoginForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const password = document.getElementById('admin-password').value;
                
                if (password === ADMIN_PASSWORD) {
                    adminLoginSection.style.display = 'none';
                    adminSection.style.display = 'block';
                    loadQuestionList();
                } else {
                    alert("Senha incorreta! Tente novamente.");
                }
            });

            // Botão para acessar o login admin
            adminLoginBtn.addEventListener('click', function() {
                loginSection.style.display = 'none';
                adminLoginSection.style.display = 'block';
            });

            // Botão para voltar do admin login para o login normal
            backToLoginBtn.addEventListener('click', function(e) {
                e.preventDefault();
                adminLoginSection.style.display = 'none';
                loginSection.style.display = 'block';
            });

            // Botão para voltar do painel admin para o login admin
            backToAdminLoginBtn.addEventListener('click', function() {
                adminSection.style.display = 'none';
                adminLoginSection.style.display = 'block';
            });

            // Botões de nível de dificuldade
            easyBtn.addEventListener('click', function() {
                currentLevel = 'easy';
                easyBtn.classList.add('selected');
                mediumBtn.classList.remove('selected');
                hardBtn.classList.remove('selected');
            });

            mediumBtn.addEventListener('click', function() {
                currentLevel = 'medium';
                easyBtn.classList.remove('selected');
                mediumBtn.classList.add('selected');
                hardBtn.classList.remove('selected');
            });

            hardBtn.addEventListener('click', function() {
                currentLevel = 'hard';
                easyBtn.classList.remove('selected');
                mediumBtn.classList.remove('selected');
                hardBtn.classList.add('selected');
            });

            // Botão para ver o ranking
            rankingBtn.addEventListener('click', function() {
                displayRanking();
                loginSection.style.display = 'none';
                resultSection.style.display = 'block';
                resultTitle.textContent = "Ranking dos Jogadores";
                resultMessage.textContent = "";
                resultDescription.textContent = "Veja como você se compara aos outros participantes!";
                document.getElementById('score').textContent = "";
                document.querySelector('.result-icon').className = 'result-icon fas fa-trophy';
            });

            // Botão para voltar ao início
            backToStartBtn.addEventListener('click', function(e) {
                e.preventDefault();
                showLoader('quiz.html');
            });

            // Adicionar event listeners para os links de navegação
            document.querySelectorAll('nav ul li a').forEach(link => {
                link.addEventListener('click', function(e) {
                    // Pular para links externos ou âncoras
                    if (this.href.includes('http') || this.getAttribute('href') === '#') {
                        return;
                    }
                    
                    e.preventDefault();
                    showLoader(this.href);
                });
            });

            // Função para carregar a lista de perguntas
            function loadQuestionList() {
                questionList.innerHTML = '';
                
                questionBank.forEach((question, index) => {
                    const questionItem = document.createElement('div');
                    questionItem.className = 'question-item';
                    questionItem.textContent = `${index + 1}. ${question.question} (${question.difficulty})`;
                    questionItem.dataset.index = index;
                    
                    questionItem.addEventListener('click', function() {
                        const selectedItems = document.querySelectorAll('.question-item.selected');
                        selectedItems.forEach(item => item.classList.remove('selected'));
                        
                        this.classList.add('selected');
                        selectedQuestionIndex = index;
                        
                        editQuestionBtn.disabled = false;
                        deleteQuestionBtn.disabled = false;
                    });
                    
                    questionList.appendChild(questionItem);
                });
            }

            // Botão para adicionar nova pergunta
            addQuestionBtn.addEventListener('click', function() {
                selectedQuestionIndex = -1;
                resetQuestionForm();
                questionForm.style.display = 'block';
            });

            // Botão para editar pergunta
            editQuestionBtn.addEventListener('click', function() {
                if (selectedQuestionIndex >= 0) {
                    const question = questionBank[selectedQuestionIndex];
                    document.getElementById('question-text-input').value = question.question;
                    difficultyInput.value = question.difficulty;
                    
                    for (let i = 0; i < 4; i++) {
                        document.getElementById(`answer-${i}`).value = question.answers[i] || '';
                    }
                    
                    document.querySelector(`input[name="correct-answer"][value="${question.correctAnswer}"]`).checked = true;
                    document.getElementById('explanation-input').value = question.explanation;
                    
                    questionForm.style.display = 'block';
                }
            });

            // Botão para deletar pergunta
            deleteQuestionBtn.addEventListener('click', function() {
                if (selectedQuestionIndex >= 0 && confirm('Tem certeza que deseja remover esta pergunta?')) {
                    questionBank.splice(selectedQuestionIndex, 1);
                    saveQuestions();
                    loadQuestionList();
                    selectedQuestionIndex = -1;
                    editQuestionBtn.disabled = true;
                    deleteQuestionBtn.disabled = true;
                }
            });

            // Botão para cancelar formulário
            cancelFormBtn.addEventListener('click', function() {
                questionForm.style.display = 'none';
            });

            // Botão para salvar pergunta
            saveQuestionBtn.addEventListener('click', function() {
                const questionText = document.getElementById('question-text-input').value.trim();
                const difficulty = difficultyInput.value;
                const answers = [
                    document.getElementById('answer-0').value.trim(),
                    document.getElementById('answer-1').value.trim(),
                    document.getElementById('answer-2').value.trim(),
                    document.getElementById('answer-3').value.trim()
                ];
                const correctAnswer = parseInt(document.querySelector('input[name="correct-answer"]:checked').value);
                const explanation = document.getElementById('explanation-input').value.trim();
                
                if (!questionText || !difficulty || answers.some(a => !a) || !explanation) {
                    alert('Por favor, preencha todos os campos!');
                    return;
                }
                
                const question = {
                    question: questionText,
                    difficulty: difficulty,
                    answers: answers,
                    correctAnswer: correctAnswer,
                    explanation: explanation
                };
                
                if (selectedQuestionIndex >= 0) {
                    questionBank[selectedQuestionIndex] = question;
                } else {
                    questionBank.push(question);
                }
                
                saveQuestions();
                loadQuestionList();
                questionForm.style.display = 'none';
            });

            // Função para resetar o formulário de pergunta
            function resetQuestionForm() {
                document.getElementById('question-text-input').value = '';
                difficultyInput.value = '';
                for (let i = 0; i < 4; i++) {
                    document.getElementById(`answer-${i}`).value = '';
                }
                document.querySelector('input[name="correct-answer"]').checked = false;
                document.getElementById('explanation-input').value = '';
            }

            // Função para salvar perguntas no localStorage
            function saveQuestions() {
                localStorage.setItem('questionBank', JSON.stringify(questionBank));
            }
            
            // Mostrar pergunta atual
            function showQuestion() {
                const question = currentQuestions[currentQuestion];
                questionText.textContent = `${currentQuestion + 1}. ${question.question}`;
                
                progressBar.style.width = `${((currentQuestion + 1) / currentQuestions.length) * 100}%`;
                progressText.textContent = `Pergunta ${currentQuestion + 1} de ${currentQuestions.length}`;
                scoreText.textContent = `Pontuação: ${score}`;
                
                answerOptions.innerHTML = '';
                explanation.style.display = 'none';
                
                question.answers.forEach((answer, index) => {
                    const answerElement = document.createElement('div');
                    answerElement.classList.add('answer-option');
                    
                    if (userAnswers[currentQuestion] !== undefined && userAnswers[currentQuestion] === index) {
                        answerElement.classList.add('selected');
                    }
                    
                    if (userAnswers[currentQuestion] !== undefined) {
                        if (index === question.correctAnswer) {
                            answerElement.classList.add('correct');
                        } else if (index === userAnswers[currentQuestion] && index !== question.correctAnswer) {
                            answerElement.classList.add('incorrect');
                        }
                    }
                    
                    answerElement.textContent = answer;
                    answerElement.addEventListener('click', function() {
                        if (userAnswers[currentQuestion] === undefined) {
                            selectAnswer(index);
                        }
                    });
                    answerOptions.appendChild(answerElement);
                });
                
                if (userAnswers[currentQuestion] !== undefined) {
                    explanationText.textContent = question.explanation;
                    explanation.style.display = 'block';
                }
                
                prevBtn.disabled = currentQuestion === 0;
                
                if (currentQuestion === currentQuestions.length - 1) {
                    nextBtn.innerHTML = '<i class="fas fa-flag-checkered"></i> Finalizar';
                } else {
                    nextBtn.innerHTML = 'Próxima <i class="fas fa-arrow-right"></i>';
                }
                
                nextBtn.disabled = userAnswers[currentQuestion] === undefined;
            }
            
            // Selecionar resposta
            function selectAnswer(index) {
                userAnswers[currentQuestion] = index;
                
                if (index === currentQuestions[currentQuestion].correctAnswer) {
                    score++;
                    scoreText.textContent = `Pontuação: ${score}`;
                }
                
                showQuestion();
            }
            
            // Botão Anterior
            prevBtn.addEventListener('click', function() {
                if (currentQuestion > 0) {
                    currentQuestion--;
                    showQuestion();
                }
            });
            
            // Botão Próxima/Finalizar
            nextBtn.addEventListener('click', function() {
                if (currentQuestion < currentQuestions.length - 1) {
                    currentQuestion++;
                    showQuestion();
                } else {
                    showResults();
                }
            });
            
            // Mostrar resultados
            function showResults() {
                quizSection.style.display = 'none';
                resultSection.style.display = 'block';
                
                scoreElement.textContent = `${score}/${currentQuestions.length}`;
                
                const percentage = (score / currentQuestions.length) * 100;
                
                if (percentage >= 80) {
                    resultTitle.textContent = `Parabéns, ${userName}!`;
                    resultMessage.textContent = "Excelente pontuação!";
                    resultDescription.textContent = "Você demonstrou um excelente conhecimento sobre hiperconvergência! Continue assim para se tornar um especialista no assunto.";
                    document.querySelector('.result-icon').className = 'result-icon fas fa-medal';
                } else if (percentage >= 50) {
                    resultTitle.textContent = `Bom trabalho, ${userName}!`;
                    resultMessage.textContent = "Boa pontuação!";
                    resultDescription.textContent = "Você tem um bom conhecimento básico sobre hiperconvergência, mas ainda há espaço para aprender mais. Continue estudando!";
                    document.querySelector('.result-icon').className = 'result-icon fas fa-thumbs-up';
                } else {
                    resultTitle.textContent = `Obrigado por participar, ${userName}!`;
                    resultMessage.textContent = "Continue aprendendo!";
                    resultDescription.textContent = "Hiperconvergência é um assunto complexo e você está começando sua jornada de aprendizado. Revise as explicações e tente novamente!";
                    document.querySelector('.result-icon').className = 'result-icon fas fa-book';
                }
                
                updateRanking(userName, score, currentQuestions.length);
                displayRanking();
            }
            
            // Atualizar ranking
            function updateRanking(name, score, totalQuestions) {
                ranking.push({
                    name: name,
                    score: score,
                    total: totalQuestions,
                    date: new Date().toISOString(),
                    level: currentLevel
                });
                
                ranking.sort((a, b) => {
                    const scoreA = (a.score / a.total) * 100;
                    const scoreB = (b.score / b.total) * 100;
                    
                    if (scoreB !== scoreA) {
                        return scoreB - scoreA;
                    } else {
                        return new Date(b.date) - new Date(a.date);
                    }
                });
                
                ranking = ranking.slice(0, 10);
                localStorage.setItem('quizRanking', JSON.stringify(ranking));
            }
            
            // Mostrar ranking - FUNÇÃO ATUALIZADA COM COLUNA DE NÍVEL
            function displayRanking() {
                while (rankingContainer.children.length > 2) {
                    rankingContainer.removeChild(rankingContainer.lastChild);
                }
                
                if (ranking.length === 0) {
                    emptyRanking.style.display = 'block';
                    return;
                } else {
                    emptyRanking.style.display = 'none';
                }
                
                ranking.forEach((player, index) => {
                    const rankingItem = document.createElement('div');
                    rankingItem.classList.add('ranking-item');
                    
                    const position = document.createElement('div');
                    position.classList.add('ranking-position');
                    
                    if (index === 0) {
                        position.innerHTML = '<i class="fas fa-crown" style="color: gold;"></i>';
                    } else if (index === 1) {
                        position.innerHTML = '<i class="fas fa-medal" style="color: silver;"></i>';
                    } else if (index === 2) {
                        position.innerHTML = '<i class="fas fa-medal" style="color: #cd7f32;"></i>';
                    } else {
                        position.textContent = `#${index + 1}`;
                    }
                    
                    const name = document.createElement('div');
                    name.classList.add('ranking-name');
                    name.textContent = player.name;
                    
                    // Nova coluna para o nível de dificuldade
                    const difficulty = document.createElement('div');
                    difficulty.classList.add('ranking-difficulty');
                    
                    const difficultyBadge = document.createElement('span');
                    difficultyBadge.classList.add('difficulty-badge');
                    
                    switch(player.level) {
                        case 'easy':
                            difficultyBadge.classList.add('difficulty-easy');
                            difficultyBadge.textContent = 'Fácil';
                            break;
                        case 'hard':
                            difficultyBadge.classList.add('difficulty-hard');
                            difficultyBadge.textContent = 'Difícil';
                            break;
                        default:
                            difficultyBadge.classList.add('difficulty-medium');
                            difficultyBadge.textContent = 'Médio';
                    }
                    
                    difficulty.appendChild(difficultyBadge);
                    
                    const score = document.createElement('div');
                    score.classList.add('ranking-score');
                    score.textContent = `${player.score}/${player.total}`;
                    
                    rankingItem.appendChild(position);
                    rankingItem.appendChild(name);
                    rankingItem.appendChild(difficulty); // Adiciona a coluna de dificuldade
                    rankingItem.appendChild(score);
                    
                    rankingContainer.appendChild(rankingItem);
                });
            }
            
            // Reiniciar quiz com as mesmas perguntas
            restartBtn.addEventListener('click', function() {
                currentQuestion = 0;
                score = 0;
                userAnswers = [];
                
                resultSection.style.display = 'none';
                quizSection.style.display = 'block';
                showQuestion();
            });
            
            // Novo quiz com perguntas diferentes
            newQuizBtn.addEventListener('click', function() {
                currentQuestion = 0;
                score = 0;
                userAnswers = [];
                
                currentQuestions = getQuestionsByLevel(currentLevel, questionCount);
                
                if (currentQuestions.length < questionCount) {
                    const remaining = questionCount - currentQuestions.length;
                    const otherQuestions = questionBank.filter(q => q.difficulty !== currentLevel);
                    const additionalQuestions = getNewRandomQuestions(otherQuestions, remaining);
                    currentQuestions = [...currentQuestions, ...additionalQuestions];
                }
                
                resultSection.style.display = 'none';
                quizSection.style.display = 'block';
                showQuestion();
            });
            
            // Exibir ranking inicial se existir
            if (ranking.length > 0) {
                displayRanking();
            }
        });
    </script>
</body>
</html>